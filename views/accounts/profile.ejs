<%- include('../partials/_upper.ejs')%>
<h3 class="mt-5">User:</h3>
<hr>

  <h1 class="mb-4" style="font-size: 3.5rem;">
    <%= profileData.full_name %> 
  </h1>
  <div class="d-flex justify-content-between">
    <div class="row w-100">
      <div class="col-6 mb-3">Join Date: <%= profileData.join_date.toLocaleDateString() %></div>
      <div class="col-6 mb-3">Email: <%= profileData.email %></div>
      <br>
      <h4>bio</h4>
      <div class="col-12 mb-3"><%= profileData.bio %></div>
    </div>
  </div>
  <h3 class="mt-5">Articles:</h3>
  <% if(articles.length > 0){%>
    <% articles.forEach(article=>{ %>
      <div class="card text-dark bg-light mb-4">
          <div class="card-body">
            <h2 class="card-title"><%=article.title%></h2>
            <hr>
            <p class="card-text">
              <small class="text-muted" style="place-self: center;">
                <%=article.date.toLocaleDateString()%> 
              </small>
            </p>
            <img style="width: 100%; height: 200px; object-fit: cover;"
              src="data:image/<%=article.thumbnail.contentType%>;base64,
                <%=article.thumbnail.data.toString('base64')%>"
            />
            <p class="card-text mt-3"><%=article.summary%></p>
            <div class="text-end">
              <a class="btn btn-outline-secondary" href="/articles/<%=article.id%>">Read More</a>
            </div>
          </div>
      </div>
    <% }) %>
  <% } else{%>
    <h5>No Articles For this user</h5>
  <%}%>

<%- include('../partials/_lower.ejs')%>

  